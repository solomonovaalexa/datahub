"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[62328],{7653:(e,t,r)=>{r.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(89379),o=r(96540),n=r(7653),s=r(38046),i=function(e,t){return o.createElement(s.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n.A}))};const l=o.forwardRef(i)},15680:(e,t,r)=>{r.d(t,{xA:()=>c,yg:()=>y});var a=r(96540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(r),d=o,y=u["".concat(l,".").concat(d)]||u[d]||g[d]||n;return r?a.createElement(y,s(s({ref:t},c),{},{components:r})):a.createElement(y,s({ref:t},c))}));function y(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,s=new Array(n);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<n;p++)s[p]=r[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},43655:(e,t,r)=>{r.d(t,{A:()=>b});var a=r(96540),o=r(20053);const n="availabilityCard_P5od",s="managedIcon_AxXO",i="platform_wqXv",l="platformAvailable_Y8lN";var p=r(4732),c=r(89379);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var g=r(38046),d=function(e,t){return a.createElement(g.A,(0,c.A)((0,c.A)({},e),{},{ref:t,icon:u}))};const y=a.forwardRef(d);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var h=function(e,t){return a.createElement(g.A,(0,c.A)((0,c.A)({},e),{},{ref:t,icon:m}))};const f=a.forwardRef(h),b=({saasOnly:e,ossOnly:t})=>a.createElement("div",{className:(0,o.A)(n,"card")},a.createElement("strong",null,"Feature Availability"),a.createElement("div",null,a.createElement("span",{className:(0,o.A)(i,!e&&l)},"Self-Hosted DataHub ",e?a.createElement(p.A,null):a.createElement(y,null))),a.createElement("div",null,a.createElement(f,{className:s}),a.createElement("span",{className:(0,o.A)(i,!t&&l)},"DataHub Cloud ",t?a.createElement(p.A,null):a.createElement(y,null))))},84760:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>g});r(96540);var a=r(15680),o=r(43655);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const l={title:"Approval Workflows",slug:"/managed-datahub/approval-workflows",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/approval-workflows.md"},p="Approval Workflows",c={unversionedId:"docs/managed-datahub/approval-workflows",id:"docs/managed-datahub/approval-workflows",title:"Approval Workflows",description:"Overview",source:"@site/genDocs/docs/managed-datahub/approval-workflows.md",sourceDirName:"docs/managed-datahub",slug:"/managed-datahub/approval-workflows",permalink:"/docs/managed-datahub/approval-workflows",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/approval-workflows.md",tags:[],version:"current",frontMatter:{title:"Approval Workflows",slug:"/managed-datahub/approval-workflows",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/approval-workflows.md"},sidebar:"overviewSidebar",previous:{title:"AWS PrivateLink",permalink:"/docs/managed-datahub/integrations/aws-privatelink"},next:{title:"Cloud Chrome Extension",permalink:"/docs/managed-datahub/chrome-extension"}},u={},g=[{value:"Overview",id:"overview",level:2},{value:"Using Approval Workflows",id:"using-approval-workflows",level:2},{value:"Proposing Tags and Glossary Terms",id:"proposing-tags-and-glossary-terms",level:3},{value:"Proposing additions to your Business Glossary",id:"proposing-additions-to-your-business-glossary",level:3},{value:"Proposing Glossary Term Description Updates",id:"proposing-glossary-term-description-updates",level:3},{value:"Proposing Programatically",id:"proposing-programatically",level:2},{value:"Constructing an Entity Identifier",id:"constructing-an-entity-identifier",level:4},{value:"Constructing a Sub-Resource Identifier",id:"constructing-a-sub-resource-identifier",level:4},{value:"Finding a Tag or Glossary Term Identifier",id:"finding-a-tag-or-glossary-term-identifier",level:4},{value:"Issuing a GraphQL Query",id:"issuing-a-graphql-query",level:4},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Permissions",id:"permissions",level:3},{value:"Privileges for Creating Proposals",id:"privileges-for-creating-proposals",level:4},{value:"Privileges for Managing Proposals",id:"privileges-for-managing-proposals",level:4},{value:"Videos",id:"videos",level:3}],d={toc:g},y="wrapper";function m(e){var{components:t}=e,r=i(e,["components"]);return(0,a.yg)(y,s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"approval-workflows"},"Approval Workflows"),(0,a.yg)(o.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,"Keeping all your metadata properly classified can be hard work when you only have a limited number of trusted data stewards. With DataHub Cloud, you can source proposals of Tags and Glossary Terms associated to datasets or dataset columns. These proposals may come from users with limited context or programatic processes using hueristics. Then, data stewards and data owners can go through them and only approve proposals they consider correct. This reduces the burden of your stewards and owners while increasing coverage."),(0,a.yg)("p",null,"Approval workflows also cover the Business Glossary itself. This allows you to source Glossary Terms and Glossary Term description changes from across your organization while limiting who has final control over what gets in."),(0,a.yg)("h2",{id:"using-approval-workflows"},"Using Approval Workflows"),(0,a.yg)("h3",{id:"proposing-tags-and-glossary-terms"},"Proposing Tags and Glossary Terms"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"When adding a Tag or Glossary Term to a column or entity, you will see a propose button.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/propose_term_on_dataset.png"})),(0,a.yg)("ol",{start:2},(0,a.yg)("li",{parentName:"ol"},"After proposing the Glossary Term, you will see it appear in a proposed state.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/propsed_term_on_dataset.png"})),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"This proposal will be sent to the inbox of Admins with proposal permissions and data owners.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/proposed_term_to_dataset_in_inbox.png"})),(0,a.yg)("ol",{start:4},(0,a.yg)("li",{parentName:"ol"},"From there, they can choose to either accept or reject the proposal. A full log of all accepted or rejected proposals is kept for each user.")),(0,a.yg)("h3",{id:"proposing-additions-to-your-business-glossary"},"Proposing additions to your Business Glossary"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Navigate to your glossary by going to the Govern menu in the top right and selecting Glossary.")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Click the plus button to create a new Glossary Term. From that menu, select Propose."))),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/proposing_new_glossary_term.png"})),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"This proposal will be sent to the inbox of Admins with proposal permissions and data owners.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/inbox_with_new_glossary_proposal.png"})),(0,a.yg)("ol",{start:4},(0,a.yg)("li",{parentName:"ol"},"From there, they can choose to either accept or reject the proposal. A full log of all accepted or rejected proposals is kept for each user.")),(0,a.yg)("h3",{id:"proposing-glossary-term-description-updates"},"Proposing Glossary Term Description Updates"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"When updating the description of a Glossary Term, click propse after making your change.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/propose_glossary_description_change.png"})),(0,a.yg)("ol",{start:2},(0,a.yg)("li",{parentName:"ol"},"This proposal will be sent to the inbox of Admins with proposal permissions and data owners.")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/inbox_with_description_proposal.png"})),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"From there, they can choose to either accept or reject the proposal.")),(0,a.yg)("h2",{id:"proposing-programatically"},"Proposing Programatically"),(0,a.yg)("p",null,"DataHub exposes a GraphQL API for proposing Tags and Glossary Terms."),(0,a.yg)("p",null,"At a high level, callers of this API will be required to provide the following details:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"A unique identifier for the target Metadata Entity (URN)"),(0,a.yg)("li",{parentName:"ol"},'An optional sub-resource identifier which designates a sub-resource to attach the Tag or Glossary Term to. for example reference to a particular "field" within a Dataset.'),(0,a.yg)("li",{parentName:"ol"},"A unique identifier for the Tag or Glossary Term they wish to propose (URN)")),(0,a.yg)("p",null,"In the following sections, we will describe how to construct each of these items and use the DataHub GraphQL API to submit Tag or Glossary Term proposals."),(0,a.yg)("h4",{id:"constructing-an-entity-identifier"},"Constructing an Entity Identifier"),(0,a.yg)("p",null,"Inside DataHub, each Metadata Entity is uniquely identified by a Universal Resource Name, or an URN. This identifier can be copied from the entity page, extracted from the API, or read from a downloaded search result. You can also use the helper methods in the datahub python library given a set of components."),(0,a.yg)("h4",{id:"constructing-a-sub-resource-identifier"},"Constructing a Sub-Resource Identifier"),(0,a.yg)("p",null,'Specific Metadata Entity types have additional sub-resources to which Tags may be applied.\nToday, this only applies for Dataset Metadata Entities, which have a "fields" sub-resource. In this case, the ',(0,a.yg)("inlineCode",{parentName:"p"},"subResource")," value would be the field path for the schema field."),(0,a.yg)("h4",{id:"finding-a-tag-or-glossary-term-identifier"},"Finding a Tag or Glossary Term Identifier"),(0,a.yg)("p",null,"Tags and Glossary Terms are also uniquely identified by an URN."),(0,a.yg)("p",null,"Tag URNs have the following format:\n",(0,a.yg)("inlineCode",{parentName:"p"},"urn:li:tag:<id>")),(0,a.yg)("p",null,"Glossary Term URNs have the following format:\n",(0,a.yg)("inlineCode",{parentName:"p"},"urn:li:glossaryTerm:<id>")),(0,a.yg)("p",null,"These full identifiers can be copied from the entity pages of the Tag or Glossary Term."),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/copy_urn_from_entity.png"})),(0,a.yg)("h4",{id:"issuing-a-graphql-query"},"Issuing a GraphQL Query"),(0,a.yg)("p",null,"Once we've constructed an Entity URN, any relevant sub-resource identifiers, and a Tag or Term URN, we're ready to propose! To do so, we'll use the DataHub GraphQL API."),(0,a.yg)("p",null,"In particular, we'll be using the proposeTag, proposeGlossaryTerm, and proposeUpdateDescription Mutations, which have the following interface:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'type Mutation {\nproposeTerm(input: TermAssociationInput!): String! # Returns Proposal URN.\n}\n\ninput TermAssociationInput {\n    resourceUrn: String! # Required. e.g. "urn:li:dataset:(...)"\n    subResource: String # Optional. e.g. "fieldName"\n    subResourceType: String # Optional. "DATASET_FIELD" for dataset fields\n    term: String! # Required. e.g. "urn:li:tag:Marketing"\n}\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'type Mutation {\nproposeTag(input: TagAssociationInput!): String! # Returns Proposal URN.\n}\n\ninput TagAssociationInput {\n    resourceUrn: String! # Required. e.g. "urn:li:dataset:(...)" subResource: String # Optional. e.g. "fieldName"\n    subResourceType: String # Optional. "DATASET_FIELD" for dataset fields\n    tagUrn: String! # Required. e.g. "urn:li:tag:Marketing"\n}\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mutation proposeUpdateDescription($input: DescriptionUpdateInput!) {\n    proposeUpdateDescription(input: $input)\n}\n\n"""\nCurrently supports updates to Glossary Term descriptions only\n"""\ninput DescriptionUpdateInput {\n    description: String! # the new description\n\n    resourceUrn: String!\n\n    subResourceType: SubResourceType\n\n    subResource: String\n}\n')),(0,a.yg)("h2",{id:"additional-resources"},"Additional Resources"),(0,a.yg)("h3",{id:"permissions"},"Permissions"),(0,a.yg)("p",null,"To create & manage metadata proposals, certain access policies or roles are required."),(0,a.yg)("h4",{id:"privileges-for-creating-proposals"},"Privileges for Creating Proposals"),(0,a.yg)("p",null,"To create a new proposal one of these Metadata privileges are required. All roles have these priveleges by default."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Propose Tags - Allows to propose tags at the Entity level"),(0,a.yg)("li",{parentName:"ul"},"Propose Dataset Column Tags - Allows to propose tags at the Dataset Field level"),(0,a.yg)("li",{parentName:"ul"},"Propose Glossary Terms - Allows to propose terms at the Entity level"),(0,a.yg)("li",{parentName:"ul"},"Propose Dataset Column Glossary Terms - Allows to propose terms at the Dataset Field level")),(0,a.yg)("p",null,"To be able to see the Proposals Tab you need the ",(0,a.yg)("strong",null,'"View Metadata Proposals"')," PLATFORM privilege"),(0,a.yg)("h4",{id:"privileges-for-managing-proposals"},"Privileges for Managing Proposals"),(0,a.yg)("p",null,"To be able to approve or deny proposals you need one of the following Metadata privileges. ",(0,a.yg)("inlineCode",{parentName:"p"},"Admin")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"Editor")," roles already have these by default."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Manage Tag Proposals"),(0,a.yg)("li",{parentName:"ul"},"Manage Glossary Term Proposals"),(0,a.yg)("li",{parentName:"ul"},"Manage Dataset Column Tag Proposals"),(0,a.yg)("li",{parentName:"ul"},"Manage Dataset Column Term Proposals")),(0,a.yg)("p",null,"These map directly to the 4 privileges for doing the proposals."),(0,a.yg)("p",null,"To be able to approve or deny proposals to the glossary itself, you just need one permission:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Manage Glossaries")),(0,a.yg)("h3",{id:"videos"},"Videos"),(0,a.yg)("p",{align:"center"},(0,a.yg)("iframe",{width:"560",height:"315",src:"https://www.loom.com/embed/1e450bde6b544653bbbf7f9762d1b157",title:"Approval Workflows",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})))}m.isMDXComponent=!0}}]);